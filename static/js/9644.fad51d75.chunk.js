"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[9644],{35424:(e,t,r)=>{r.d(t,{q:()=>C});var n=r(45992),o=r(37577),s=r(94310),i=r(54463),l=r(17588),d=r(34968);const a="DM Sans";(0,r(26558).PY)(a,"https://fonts.gstatic.com/s/dmsans/v17/rP2Yp2ywxg089UriI5-g4vlH9VoD8Cmcqbu0-K6z9mXg.woff2");const c=o.Ay.div({display:"flex",alignItems:"center",width:"100%",height:"100%"}),u=o.Ay.div.attrs((e=>{let{theme:{color:t},$darkMode:r=!1,$backgroundColor:n}=e;return{style:{backgroundColor:r?n||"rgb(75, 73, 86)":n||t.background.primary.active()}}}))({position:"relative",display:"flex",flex:1,height:"100%",borderRadius:"99999999999px",overflow:"hidden"}),g=e=>{let{color:t,$darkMode:r,$textColor:n,$isTextInside:o}=e;return n||(o?r?"rgb(75, 73, 86)":t.content.reversed.default():r?t.content.reversed.default():t.content.primary.default())},h=o.Ay.div({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",transform:"translateY(-50%)"}),f=o.Ay.span.attrs((e=>{let{theme:{color:t},$darkMode:r=!1,$isTextInside:n=!1,$textColor:o}=e;var s;return{style:{color:null!==(s=g({color:t,$darkMode:r,$textColor:o,$isTextInside:n}))&&void 0!==s?s:"white"}}}))(Object.assign({fontSize:"calc(var(--parent-height) / 2.5 * 1px)",fontFamily:`'${a}', "Source Sans Pro", _fb_`,fontWeight:600,textAlign:"center"},d.iF.mixins.increaseSpecificity({padding:"0 calc(var(--parent-height) / 5 * 1px)"}))),m=o.Ay.div.attrs((e=>{let{theme:{color:t},$darkMode:r=!1,$barColor:n,$progress:o}=e;return{style:{backgroundColor:r?n||t.content.reversed.default():n||t.content.primary.default(),transform:`translateX(-${100-o}%)`}}}))({position:"relative",width:"100%",height:"100%",borderRadius:"99999999999px",transition:"transform 0.3s ease-in-out",[h]:{position:"absolute",top:"50%"}}),p=(0,l.forwardRef)(((e,t)=>{let{darkMode:r,progress:o,showPercentage:s,styles:i,size:d}=e;const[a,g]=(0,l.useState)(null),[p,v]=(0,l.useState)(null),[w,y]=(0,l.useState)(!1),[C,b]=(0,l.useState)(0),x=Math.round(Math.min(100,Math.max(0,o)));return(0,l.useLayoutEffect)((()=>{if(!s||!a||!p)return;const e=()=>{const e=a.offsetWidth,t=p.offsetWidth,r=t-t*x/100;b(e),y(e>r)};e();const t=new ResizeObserver(e);return t.observe(p),()=>t.disconnect()}),[x,s,a,p]),(0,n.jsx)(c,{ref:t,style:{"--parent-height":d.height},children:(0,n.jsx)(u,{ref:v,$darkMode:r,$backgroundColor:i.backgroundColor,children:(0,n.jsx)(m,{$progress:x,$darkMode:r,$barColor:i.barColor,children:s&&(0,n.jsx)(h,{style:{right:w?"0%":`calc(-${C}px)`},children:(0,n.jsxs)(f,{ref:g,$darkMode:r,$textColor:i.textColor,$isTextInside:w,children:[x,"%"]})})})})})})),v=(0,l.forwardRef)(((e,t)=>{let{progress:r,showPercentage:o,styles:s,size:i}=e;return(0,n.jsx)(p,{darkMode:!0,progress:r,ref:t,showPercentage:o,size:i,styles:s})})),w=(0,l.forwardRef)(((e,t)=>{let{progress:r,showPercentage:o,styles:s,size:i}=e;return(0,n.jsx)(p,{darkMode:!1,progress:r,ref:t,showPercentage:o,size:i,styles:s})})),y=e=>{let{progress:t,showPercentage:r,styles:o,variant:l}=e;const{ref:d,size:a}=(0,s.r)(),c=(e=>{switch(e){case i._s.MINIMAL_LIGHT:return w;case i._s.MINIMAL_DARK:return v;default:return()=>(0,n.jsx)("h1",{children:"\u23f0 WIP-ing progress bar"})}})(l);return(0,n.jsx)(c,{progress:t,ref:d,showPercentage:r,size:a,styles:o})},C=e=>{let{backgroundColor:t,barColor:r,progress:s,showPercentage:i,textColor:l,theme:d,variant:a}=e;const c={backgroundColor:""===t?void 0:t,barColor:""===r?void 0:r,textColor:""===l?void 0:l};return(0,n.jsx)(o.NP,{theme:d,children:(0,n.jsx)(y,{progress:s,showPercentage:i,styles:c,variant:a})})}},76599:(e,t,r)=>{r.d(t,{w:()=>n});const n=e=>{let{allSlideIds:t,includedSlideIds:r,currentSlideId:n}=e;if(r.length<=1)return 0;const o=t.filter((e=>r.includes(e))),s=o.indexOf(n);return-1===s?0:s/(o.length-1)*100}},19644:(e,t,r)=>{r.r(t),r.d(t,{progressBarViewScript:()=>d});var n,o=r(45992);!function(e){e.SlideChange="slideChange"}(n||(n={}));var s=r(41381),i=r(35424),l=r(76599);const d=(e,t)=>{(0,s.p)({getTargetNodeItem:()=>e.item,initialState:void 0,renderApp:r=>{let{setState:s}=r;const{showPercentage:d,barColor:a,backgroundColor:c,textColor:u,variant:g}=e.config;return t.on(n.SlideChange,(e=>{let{currentSlideId:t}=e;s({currentSlideId:t})})),r=>{const n=e.item,s=(0,l.w)({allSlideIds:t.getNonPopupSlides.map((e=>e.id)),includedSlideIds:n.includedSlideIds||[],currentSlideId:(null===r||void 0===r?void 0:r.currentSlideId)||t.currentSlide.id});return(0,o.jsx)(i.q,{backgroundColor:c,barColor:a,progress:s,showPercentage:d,textColor:u,theme:t.theme,variant:g})}},renderThumbnailApp:r=>{let{renderingSlideId:n}=r;const{showPercentage:s,barColor:d,backgroundColor:a,textColor:c,variant:u}=e.config,g=e.item,h=(0,l.w)({allSlideIds:t.getNonPopupSlides.map((e=>e.id)),includedSlideIds:g.includedSlideIds||[],currentSlideId:n||t.currentSlide.id});return(0,o.jsx)(i.q,{backgroundColor:a,barColor:d,progress:h,showPercentage:s,textColor:c,theme:t.theme,variant:u})}})(e,t)}},94310:(e,t,r)=>{r.d(t,{r:()=>o});var n=r(17588);const o=()=>{const[e,t]=(0,n.useState)({width:0,height:0}),r=(0,n.useRef)(null);return{ref:(0,n.useCallback)((e=>{if(r.current&&r.current.disconnect(),!e)return;const{width:n,height:o}=e.getBoundingClientRect();t({width:n,height:o}),r.current=new ResizeObserver((e=>{const{contentRect:r}=e[0];t({width:r.width,height:r.height})})),r.current.observe(e)}),[]),size:e}}},41381:(e,t,r)=>{r.d(t,{p:()=>i});var n=r(70377),o=r(66264),s=r(60708);function i(e){let{getTargetNodeItem:t,renderApp:r,renderThumbnailApp:i,initialState:l}=e,d=!1;const a=[],c=e=>{a.push(e)};return e=>{const u=t(e.config),g=null===u||void 0===u?void 0:u.parentSlide;function h(){if(!u)return;let e=null;if("idOfFreeNode"in u)e=document.getElementById(u.idOfFreeNode);else{const t=document.createElement("div");t.innerHTML=u.source;let r=t.getElementsByClassName("genially-widget-app");r.length||(r=t.getElementsByClassName("genially-widget-gallery"));const{id:n}=r[0];if(!n)return;e=document.getElementById(n)}if(e){let t;const o=r=>{d&&t?n.render(t(r),e):console.warn('"rerender" was called when the widget was already unmounted. This is a no-op. Did you forget to dispose of an event handler with "onUnmount"?')};t=r({setState:o,onUnmount:c}),d=!0,o(l),a.push((()=>{n.unmountComponentAtNode(e)}))}}function f(){d=!1,a.forEach((e=>{e()})),a.length=0}function m(){if(!u||!("idOfThumbnailFreeNode"in u))return[];const e=document.getElementsByClassName(u.idOfThumbnailFreeNode);return Array.from(e).filter((e=>e instanceof HTMLElement))}u&&"isTransversal"in u&&u.isTransversal?(null===u||void 0===u||u.on(o.q.Mount,(()=>{h()})),null===u||void 0===u||u.on(o.q.Unmount,(()=>{f()}))):(null===g||void 0===g||g.on(s.m.Entering,(()=>{d||h()})),null===g||void 0===g||g.on(s.m.Exited,(()=>{d&&f()}))),null===g||void 0===g||g.on(s.m.ThumbnailMount,(()=>{!function(){if(!i||!u||!("idOfThumbnailFreeNode"in u))return;m().forEach((e=>{n.unmountComponentAtNode(e)}))}(),function(){if(!i||!u||!("idOfThumbnailFreeNode"in u))return;m().forEach((e=>{const{renderingSlideId:t}=e.dataset;n.render(i({renderingSlideId:t}),e)}))}()}))}}},26558:(e,t,r)=>{r.d(t,{PY:()=>s,Sx:()=>o,qP:()=>n});const n=e=>{const t=new Image;return t.crossOrigin="anonymous",t.src=e,t},o=e=>new Promise((t=>{const r=new Image;r.crossOrigin="anonymous",r.onload=t,r.src=e})),s=(e,t)=>{try{if(!!document.fonts&&Array.from(document.fonts).some((t=>t.family===e)))return;new FontFace(e,`url(${t})`).load().then((e=>{document.fonts.add(e)}))}catch(r){console.warn("Error preloading font",r)}}}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/9644.fad51d75.chunk.js.map